System.register(["jimu-core","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/basic/color-picker","jimu-ui/advanced/resource-selector","jimu-core/react"],(function(e,t){var o={},i={},a={},s={},l={},n={},c={};return{setters:[function(e){o.AllDataSourceTypes=e.AllDataSourceTypes,o.Immutable=e.Immutable,o.JimuFieldType=e.JimuFieldType,o.jsx=e.jsx},function(e){i.DataSourceSelector=e.DataSourceSelector,i.FieldSelector=e.FieldSelector},function(e){a.SettingRow=e.SettingRow,a.SettingSection=e.SettingSection},function(e){s.Button=e.Button,s.Option=e.Option,s.Select=e.Select,s.TextInput=e.TextInput},function(e){l.ColorPicker=e.ColorPicker},function(e){n.ImageSelector=e.ImageSelector},function(e){c.useCallback=e.useCallback,c.useEffect=e.useEffect,c.useState=e.useState}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=o},972:e=>{"use strict";e.exports=c},321:e=>{"use strict";e.exports=s},89:e=>{"use strict";e.exports=i},809:e=>{"use strict";e.exports=n},298:e=>{"use strict";e.exports=a},337:e=>{"use strict";e.exports=l}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{__set_webpack_public_path__:()=>g,default:()=>c});var e=r(244),t=r(89),o=r(298);const i={selectDataSource:"Select Feature Layer Data Source",chooseAttribute:"Choose attribute to filter on (string)",chooseValue:"Choose value to filter on",chooseBackgroundColor:"Choose background color"};var a=r(321),s=r(337),l=r(809),n=r(972);function c(c){const r=(0,e.Immutable)([e.AllDataSourceTypes.FeatureLayer]),u=(0,e.Immutable)([e.JimuFieldType.String]),g=(0,n.useCallback)((e=>{e&&c.onSettingChange({id:c.id,useDataSources:e})}),[c]),d=(0,n.useCallback)((e=>{e&&1===e.length&&c.onSettingChange({id:c.id,config:c.config.set("filterField",e[0].name)})}),[c]),[m,S]=(0,n.useState)([]),[x,f]=(0,n.useState)([]),[p,j]=(0,n.useState)([]),b=(0,n.useCallback)(((e,t)=>{c.onSettingChange({id:c.id,config:c.config.set(e,t)})}),[c]);(0,n.useEffect)((()=>{S(c.config.filterValues?Array.from(c.config.filterValues):[]),f(c.config.normalImages?Array.from(c.config.normalImages):[]),j(c.config.activeImages?Array.from(c.config.activeImages):[])}),[c]);const C=(0,n.useCallback)((()=>{const e=[...m,""];S(e),b("filterValues",e)}),[m,b]),y=(0,n.useCallback)(((e,t)=>{const o=[...m];o[e]=t,S(o),b("filterValues",o)}),[m,b]),v=(0,n.useCallback)((e=>{const t=m.filter(((t,o)=>o!==e));S(t),b("filterValues",t)}),[m,b]),h=(0,n.useCallback)((e=>{const t=[...x,e];f(t),b("normalImages",t)}),[x,b]),I=(0,n.useCallback)(((e,t)=>{const o=[...x];o[e]=t,f(o),b("normalImages",o)}),[x,b]),D=(0,n.useCallback)((e=>{const t=x.filter(((t,o)=>o!==e));f(t),b("normalImages",t)}),[x,b]),k=(0,n.useCallback)((e=>{const t=[...p,e];j(t),b("activeImages",t)}),[p,b]),w=(0,n.useCallback)(((e,t)=>{const o=[...p];o[e]=t,j(o),b("activeImages",o)}),[p,b]),A=(0,n.useCallback)((e=>{const t=p.filter(((t,o)=>o!==e));j(t),b("activeImages",t)}),[p,b]);return(0,e.jsx)("div",null,(0,e.jsx)("div",{className:"widget-setting-get-map-coordinates"},(0,e.jsx)(o.SettingSection,{className:"data-source-selector-section",title:c.intl.formatMessage({id:"dataSourceSelectorLabel",defaultMessage:i.selectDataSource})},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(t.DataSourceSelector,{types:r,useDataSourcesEnabled:!0,mustUseDataSource:!0,useDataSources:c.useDataSources,onChange:g,widgetId:c.id,hideDataView:!0}))),c.useDataSources&&c.useDataSources.length>0&&(0,e.jsx)(o.SettingSection,{className:"attribute-selector-section",title:c.intl.formatMessage({id:"chooseAttributeSelectorLabel",defaultMessage:i.chooseAttribute})},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(t.FieldSelector,{useDataSources:c.useDataSources,types:u,onChange:d,selectedFields:(0,e.Immutable)([c.config.filterField]),isMultiple:!1,isSearchInputHidden:!1,isDataSourceDropDownHidden:!0,useDropdown:!0}))),(0,e.jsx)(o.SettingSection,{className:"attribute-selector-section",title:c.intl.formatMessage({id:"chooseBackgroundColor",defaultMessage:i.chooseBackgroundColor})},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(s.ColorPicker,{color:c.config.backgroundColor,onChange:e=>{c.onSettingChange({id:c.id,config:c.config.set("backgroundColor",e)})}}))),(0,e.jsx)(o.SettingSection,{title:"Direction"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(a.Select,{value:c.config.direction,onChange:e=>{b("direction",e.target.value)}},(0,e.jsx)(a.Option,{value:"row"},"Row"),(0,e.jsx)(a.Option,{value:"column"},"Column")))),(0,e.jsx)(o.SettingSection,{title:"Filter Value List"},m.map(((t,i)=>(0,e.jsx)(o.SettingRow,{key:i,label:`String ${i+1}`},(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",width:"60%"}},(0,e.jsx)(a.TextInput,{value:t,onChange:e=>{y(i,e.target.value)},placeholder:"Enter a string",style:{marginRight:"10px"}}),(0,e.jsx)(a.Button,{onClick:()=>{v(i)}},"Delete"))))),(0,e.jsx)(a.Button,{onClick:C},"Add String")),(0,e.jsx)(o.SettingSection,{title:"Normal Image List"},x.map(((t,i)=>(0,e.jsx)(o.SettingRow,{key:i,label:`Image ${i+1}`},(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},(0,e.jsx)("img",{src:t.url,alt:`Selected ${i+1}`,style:{width:"100px"}}),(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center"}},(0,e.jsx)("div",null,(0,e.jsx)(l.ImageSelector,{style:{paddingBottom:"30px",height:"30px"},onChange:e=>{I(i,e)},buttonLabel:"Choose",widgetId:c.id})),(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"10px"}},(0,e.jsx)(a.Button,{onClick:()=>{D(i)}},"Delete"))))))),(0,e.jsx)(l.ImageSelector,{onChange:e=>{h(e)},buttonLabel:"Add Image",widgetId:c.id})),(0,e.jsx)(o.SettingSection,{title:"Active Image List"},p.map(((t,i)=>(0,e.jsx)(o.SettingRow,{key:i,label:`Active Image ${i+1}`},(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},(0,e.jsx)("img",{src:t.url,alt:`Active ${i+1}`,style:{width:"100px"}}),(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center"}},(0,e.jsx)("div",null,(0,e.jsx)(l.ImageSelector,{style:{paddingBottom:"30px",height:"30px"},onChange:e=>{w(i,e)},buttonLabel:"Choose",widgetId:c.id})),(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"10px"}},(0,e.jsx)(a.Button,{onClick:()=>{A(i)}},"Delete"))))))),(0,e.jsx)(l.ImageSelector,{onChange:e=>{k(e)},buttonLabel:"Add Active Image",widgetId:c.id}))))}function g(e){r.p=e}})(),u})())}}}));