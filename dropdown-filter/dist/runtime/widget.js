System.register(["jimu-core","jimu-core/react","jimu-ui"],(function(e,t){var n={},o={},r={};return{setters:[function(e){n.DataSourceComponent=e.DataSourceComponent,n.DataSourceManager=e.DataSourceManager,n.React=e.React,n.classNames=e.classNames,n.css=e.css,n.jsx=e.jsx},function(e){o.useCallback=e.useCallback,o.useEffect=e.useEffect,o.useState=e.useState},function(e){r.Dropdown=e.Dropdown,r.DropdownButton=e.DropdownButton,r.DropdownItem=e.DropdownItem,r.DropdownMenu=e.DropdownMenu,r.Icon=e.Icon}],execute:function(){e((()=>{var e={996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},244:e=>{"use strict";e.exports=n},972:e=>{"use strict";e.exports=o},321:e=>{"use strict";e.exports=r}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var a={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(a),s.d(a,{__set_webpack_public_path__:()=>m,default:()=>g});var e=s(244),t=s(972);const n=({useDataSources:n,children:o,onDataSourceInfoChange:r,onDataSourceCreated:s})=>{const a=(0,t.useCallback)((()=>{let t=o;for(let o=0;o<n.length;o++)t=(0,e.jsx)(e.DataSourceComponent,{useDataSource:n[o],onDataSourceInfoChange:r,onDataSourceCreated:s},t);return t}),[o,r,s,n]),[i,l]=(0,t.useState)(null);return(0,t.useEffect)((()=>{n&&n.length>0?l(a()):l(o)}),[o,a,n]),i};var o=s(321),r=s(996),i=s.n(r),l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const c=t=>{const n=window.SVG,{className:o}=t,r=l(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",o);return n?e.React.createElement(n,Object.assign({className:s,src:i()},r)):e.React.createElement("svg",Object.assign({className:s},r))},u=(e,t,n)=>e.split(t).join(n),f=e=>/\{\d+\}/g.test(e),d=t=>{const{fontSize:n,fontFamily:o,color:r,bold:s,italic:a,underline:i,strike:l}=t;return e.css`
    font-size: ${n};
    font-family: ${o};
    color: ${r};
    font-weight: ${s?"bold":"normal"};
    font-style: ${a?"italic":"normal"};
    text-decoration-line: ${i&&l?"underline line-through":i?"underline":l?"line-through":"none"};
    padding: 0;
  `},p=({h1:t,h2:n,iconUrl:r})=>(0,e.jsx)("div",{style:{display:"flex",width:"100%",aspectRatio:3.62,alignItems:"center",justifyContent:"space-between",flexDirection:"row"}},(0,e.jsx)("div",{style:{width:"20%"}},r?(0,e.jsx)(o.Icon,{icon:r,size:"sm"}):(0,e.jsx)(c,{size:"sm"})),(0,e.jsx)("div",{style:{display:"flex",width:"70%",height:"100%",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",gap:"0px"}},(0,e.jsx)("span",{css:t?d(t):{},style:{backgroundColor:"transparent",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",flexWrap:"wrap"}},null==t?void 0:t.content),(0,e.jsx)("span",{css:n?d(n):{},style:{backgroundColor:"transparent",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",flexWrap:"wrap"}},null==n?void 0:n.content)));function g(r){var s;const[,a]=(0,t.useState)(-1),i=(0,t.useCallback)((t=>{if(!r.useDataSources||0===r.useDataSources.length||void 0===r.config.fieldNames||void 0===r.config.options)return;if(r.useDataSources.length!==r.config.fieldNames.length)return;if(void 0===r.config.options[t])return;const n=r.config.options[t].sqlExpression,o=f(n)?parseFloat(n.substring(1,n.length-1)):void 0;for(let t=0;t<r.useDataSources.length;t++){const s=e.DataSourceManager.getInstance().getDataSource(r.useDataSources[t].dataSourceId);if(null==s||void 0===r.config.fieldNames[t])continue;let a=u(n,"{}",r.config.fieldNames[t]);void 0!==o&&o!==t?a="1 = 0":void 0!==o&&o===t&&(a="1 = 1");const i={where:a};s.updateQueryParams(i,r.id)}}),[r.config.fieldNames,r.config.options,r.id,r.useDataSources]),l=(0,t.useCallback)((e=>{e<0||e>=r.config.options.length||a((t=>(t!==e&&i(e),e)))}),[i,r.config.options.length]);return(0,e.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"transparent",flexDirection:"column"}},(0,e.jsx)(n,{useDataSources:r.useDataSources},(0,e.jsx)(o.Dropdown,{fluid:!0,style:{height:"100%",display:"flex",alignItems:"center"}},(0,e.jsx)(o.DropdownButton,{arrow:!1},(0,e.jsx)(p,{h1:r.config.h1,h2:r.config.h2,iconUrl:r.config.iconUrl})),(0,e.jsx)(o.DropdownMenu,null,null===(s=r.config.options)||void 0===s?void 0:s.map(((t,n)=>(0,e.jsx)(o.DropdownItem,{key:n,value:n,onClick:()=>{l(n)}},(0,e.jsx)("div",{style:{display:"flex",width:"100%",alignItems:"center"}},t.displayName))))))))}function m(e){s.p=e}})(),a})())}}}));