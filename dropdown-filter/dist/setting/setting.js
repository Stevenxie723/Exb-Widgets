System.register(["jimu-core","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/setting-components","jimu-core/react","jimu-ui","jimu-ui/advanced/style-setting-components","jimu-layouts/layout-runtime","jimu-ui/basic/color-picker"],(function(e,t){var o={},n={},i={},s={},l={},a={},c={},r={};return{setters:[function(e){o.AllDataSourceTypes=e.AllDataSourceTypes,o.Immutable=e.Immutable,o.jsx=e.jsx},function(e){n.DataSourceSelector=e.DataSourceSelector,n.FieldSelector=e.FieldSelector},function(e){i.SettingRow=e.SettingRow,i.SettingSection=e.SettingSection},function(e){s.useCallback=e.useCallback},function(e){l.Button=e.Button,l.DistanceUnits=e.DistanceUnits,l.FontFamilyValue=e.FontFamilyValue,l.TextArea=e.TextArea,l.TextInput=e.TextInput,l.UrlInput=e.UrlInput},function(e){a.FontFamilySelector=e.FontFamilySelector,a.FontStyle=e.FontStyle,a.SizeEditor=e.SizeEditor},function(e){c.LayoutItemSizeModes=e.LayoutItemSizeModes},function(e){r.ColorPicker=e.ColorPicker}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=o},972:e=>{"use strict";e.exports=s},496:e=>{"use strict";e.exports=c},321:e=>{"use strict";e.exports=l},89:e=>{"use strict";e.exports=n},298:e=>{"use strict";e.exports=i},562:e=>{"use strict";e.exports=a},337:e=>{"use strict";e.exports=r}},t={};function u(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,u),i.exports}u.d=(e,t)=>{for(var o in t)u.o(t,o)&&!u.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var d={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(d),u.d(d,{__set_webpack_public_path__:()=>p,default:()=>g});var e=u(244),t=u(89),o=u(298),n=u(972),i=u(321),s=u(562),l=u(496),a=u(337);const c=({title:t,onChange:n,config:c})=>(0,e.jsx)(o.SettingSection,{style:{width:"100%"},title:t},(0,e.jsx)("div",{style:{justifyContent:"center",flexDirection:"column",display:"flex",alignItems:"center",gap:"10px",width:"100%"}},(0,e.jsx)(o.SettingRow,{css:{width:"100%"}},(0,e.jsx)(i.TextArea,{value:c.content,onChange:e=>{n("content",e.target.value)},multiple:!0})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(s.FontStyle,{bold:c.bold,italic:c.italic,underline:c.underline,strike:c.strike,onChange:(e,t)=>{n(e,t)}})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(s.SizeEditor,{availableUnits:[i.DistanceUnits.PIXEL,i.DistanceUnits.VW],label:"Basic",mode:l.LayoutItemSizeModes.Custom,onChange:e=>{n("fontSize",e.distance+""+(e.unit===i.DistanceUnits.VW?"vw":"px"))},sizeModes:[l.LayoutItemSizeModes.Custom],value:c.fontSize,disableModeSelect:!0})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(a.ColorPicker,{color:c.color,onChange:e=>{n("color",e)}})),(0,e.jsx)(o.SettingRow,{css:{width:"100%"}},(0,e.jsx)(s.FontFamilySelector,{font:c.fontFamily,onChange:e=>{n("fontFamily",e)}})))),r=({option:t,onUpdateOption:n,onRemoveOption:s})=>(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-start"}},(0,e.jsx)("div",null,"Display Name"),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:t.displayName,onChange:e=>{n("displayName",e.target.value)}})),(0,e.jsx)("div",null,"SQL Expression (Use ","{}"," to express the field name)"),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextArea,{value:t.sqlExpression,onChange:e=>{n("sqlExpression",e.target.value)},htmlSize:100})),(0,e.jsx)(i.Button,{onClick:s},"Remove this option"));function g(s){var l,a;const u=(0,e.Immutable)([e.AllDataSourceTypes.FeatureLayer]),d=(0,n.useCallback)((e=>{e&&s.onSettingChange({id:s.id,useDataSources:e,config:s.config.set("fieldNames",e.map((e=>"")))})}),[s]),g=(0,n.useCallback)(((e,t)=>{s.onSettingChange({id:s.id,config:s.config.set(e,t)})}),[s]),p=(0,n.useCallback)((()=>{const e=s.config.options?Array.from(s.config.options):[];e.push({displayName:"",value:"",sqlExpression:"{} = ''"}),g("options",e)}),[s,g]),S=(0,n.useCallback)(((e,t,o)=>{const n=s.config.options?Array.from(s.config.options):[];n[e][t]=o,g("options",n)}),[s,g]),f=(0,n.useCallback)((e=>{const t=s.config.options?Array.from(s.config.options):[];t.splice(e,1),g("options",t)}),[s,g]),m=(0,n.useCallback)(((e,t)=>{const o=s.config.fieldNames?Array.from(s.config.fieldNames):[];o.length>e&&(o[e]=t,g("fieldNames",o))}),[s.config.fieldNames,g]),x=(0,n.useCallback)(((e,t,o)=>{var n;const l=null!==(n=0===e?s.config.h1:s.config.h2)&&void 0!==n?n:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL};"size"===t&&(t="fontSize");const a=Object.assign(Object.assign({},l),{[t]:o});s.onSettingChange({id:s.id,config:s.config.set(0===e?"h1":"h2",a)})}),[s]);return(0,e.jsx)("div",null,(0,e.jsx)("div",{className:"widget-setting-get-map-coordinates",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"10px"}},(0,e.jsx)(o.SettingSection,{className:"data-source-selector-section",title:"Select Data Source"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(t.DataSourceSelector,{types:u,useDataSourcesEnabled:!0,mustUseDataSource:!0,useDataSources:s.useDataSources,onChange:d,widgetId:s.id,hideDataView:!0,isMultiple:!0}))),s.useDataSources&&s.useDataSources.length>0&&s.useDataSources.map(((n,i)=>(0,e.jsx)(o.SettingSection,{className:"field-selector-section",title:"Select Field for Data Source #"+i},(0,e.jsx)(o.SettingRow,{key:i},(0,e.jsx)(t.FieldSelector,{useDataSources:s.useDataSources.slice(i,i+1),selectedFields:s.config.fieldNames?(0,e.Immutable)([s.config.fieldNames[i]]):(0,e.Immutable)([]),onChange:e=>{e&&1===e.length&&m(i,e[0].name)},widgetId:s.id,useDropdown:!0,isMultiple:!1,useSelectionDataView:!1,isSearchInputHidden:!1,isDataSourceDropDownHidden:!0}))))),(0,e.jsx)(o.SettingSection,{title:"Icon URL"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.UrlInput,{value:s.config.iconUrl,onChange:e=>{g("iconUrl",e.value)},schemes:["https"]}))),(0,e.jsx)(c,{title:"Edit h1",onChange:(e,t)=>{x(0,e,t)},config:null!==(l=s.config.h1)&&void 0!==l?l:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL}}),(0,e.jsx)(c,{title:"Edit h2",onChange:(e,t)=>{x(1,e,t)},config:null!==(a=s.config.h2)&&void 0!==a?a:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL}}),(0,e.jsx)(o.SettingSection,{title:"Placeholder"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:s.config.placeholder,onChange:e=>{g("placeholder",e.target.value)}}))),s.config.options&&s.config.options.map(((t,n)=>(0,e.jsx)(o.SettingSection,{title:"Option #"+n,key:n},(0,e.jsx)(r,{key:n,option:t,onUpdateOption:(e,t)=>{S(n,e,t)},onRemoveOption:()=>{f(n)}})))),(0,e.jsx)(i.Button,{onClick:p},"Add Option")))}function p(e){u.p=e}})(),d})())}}}));