System.register(["jimu-core","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/setting-components","jimu-core/react","jimu-ui","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e,t){var o={},n={},i={},l={},s={},a={},c={};return{setters:[function(e){o.AllDataSourceTypes=e.AllDataSourceTypes,o.Immutable=e.Immutable,o.jsx=e.jsx},function(e){n.DataSourceSelector=e.DataSourceSelector,n.FieldSelector=e.FieldSelector},function(e){i.SettingRow=e.SettingRow,i.SettingSection=e.SettingSection},function(e){l.useCallback=e.useCallback},function(e){s.Button=e.Button,s.FontFamilyValue=e.FontFamilyValue,s.TextArea=e.TextArea,s.TextInput=e.TextInput,s.UrlInput=e.UrlInput},function(e){a.FontFamilySelector=e.FontFamilySelector,a.FontStyle=e.FontStyle},function(e){c.ColorPicker=e.ColorPicker}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=o},972:e=>{"use strict";e.exports=l},321:e=>{"use strict";e.exports=s},89:e=>{"use strict";e.exports=n},298:e=>{"use strict";e.exports=i},562:e=>{"use strict";e.exports=a},337:e=>{"use strict";e.exports=c}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{__set_webpack_public_path__:()=>p,default:()=>g});var e=r(244),t=r(89),o=r(298),n=r(972),i=r(321),l=r(562),s=r(337);const a=({title:t,onChange:n,config:a})=>(0,e.jsx)(o.SettingSection,{style:{width:"100%"},title:t},(0,e.jsx)("div",{style:{justifyContent:"center",flexDirection:"column",display:"flex",alignItems:"center",gap:"10px",width:"100%"}},(0,e.jsx)(o.SettingRow,{css:{width:"100%"}},(0,e.jsx)(i.TextArea,{value:a.content,onChange:e=>{n("content",e.target.value)},multiple:!0})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(l.FontStyle,{bold:a.bold,italic:a.italic,underline:a.underline,strike:a.strike,onChange:(e,t)=>{n(e,t)}})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:a.fontSize,onChange:e=>{n("fontSize",e.target.value)},placeholder:"Enter font size"})),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(s.ColorPicker,{color:a.color,onChange:e=>{n("color",e)}})),(0,e.jsx)(o.SettingRow,{css:{width:"100%"}},(0,e.jsx)(l.FontFamilySelector,{font:a.fontFamily,onChange:e=>{n("fontFamily",e)}})))),c=({option:t,onUpdateOption:n,onRemoveOption:l})=>(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-start"}},(0,e.jsx)("div",null,"Display Name"),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:t.displayName,onChange:e=>{n("displayName",e.target.value)}})),(0,e.jsx)("div",null,"SQL Expression (Use ","{}"," to express the field name)"),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextArea,{value:t.sqlExpression,onChange:e=>{n("sqlExpression",e.target.value)},htmlSize:100})),(0,e.jsx)(i.Button,{onClick:l},"Remove this option"));function g(l){var s,r;const u=(0,e.Immutable)([e.AllDataSourceTypes.FeatureLayer]),g=(0,n.useCallback)((e=>{e&&l.onSettingChange({id:l.id,useDataSources:e,config:l.config.set("fieldNames",e.map((e=>"")))})}),[l]),p=(0,n.useCallback)(((e,t)=>{l.onSettingChange({id:l.id,config:l.config.set(e,t)})}),[l]),d=(0,n.useCallback)((()=>{const e=l.config.options?Array.from(l.config.options):[];e.push({displayName:"",value:"",sqlExpression:"{} = ''"}),p("options",e)}),[l,p]),f=(0,n.useCallback)(((e,t,o)=>{const n=l.config.options?Array.from(l.config.options):[];n[e][t]=o,p("options",n)}),[l,p]),x=(0,n.useCallback)((e=>{const t=l.config.options?Array.from(l.config.options):[];t.splice(e,1),p("options",t)}),[l,p]),S=(0,n.useCallback)(((e,t)=>{const o=l.config.fieldNames?Array.from(l.config.fieldNames):[];o.length>e&&(o[e]=t,p("fieldNames",o))}),[l.config.fieldNames,p]),m=(0,n.useCallback)(((e,t,o)=>{var n;const s=null!==(n=0===e?l.config.h1:l.config.h2)&&void 0!==n?n:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL};"size"===t&&(t="fontSize");const a=Object.assign(Object.assign({},s),{[t]:o});l.onSettingChange({id:l.id,config:l.config.set(0===e?"h1":"h2",a)})}),[l]);return(0,e.jsx)("div",null,(0,e.jsx)("div",{className:"widget-setting-get-map-coordinates",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"10px"}},(0,e.jsx)(o.SettingSection,{className:"data-source-selector-section",title:"Select Data Source"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(t.DataSourceSelector,{types:u,useDataSourcesEnabled:!0,mustUseDataSource:!0,useDataSources:l.useDataSources,onChange:g,widgetId:l.id,hideDataView:!0,isMultiple:!0}))),l.useDataSources&&l.useDataSources.length>0&&l.useDataSources.map(((n,i)=>(0,e.jsx)(o.SettingSection,{className:"field-selector-section",title:"Select Field for Data Source #"+i},(0,e.jsx)(o.SettingRow,{key:i},(0,e.jsx)(t.FieldSelector,{useDataSources:l.useDataSources.slice(i,i+1),selectedFields:l.config.fieldNames?(0,e.Immutable)([l.config.fieldNames[i]]):(0,e.Immutable)([]),onChange:e=>{e&&1===e.length&&S(i,e[0].name)},widgetId:l.id,useDropdown:!0,isMultiple:!1,useSelectionDataView:!1,isSearchInputHidden:!1,isDataSourceDropDownHidden:!0}))))),(0,e.jsx)(o.SettingSection,{title:"Icon URL"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.UrlInput,{value:l.config.iconUrl,onChange:e=>{p("iconUrl",e.value)},schemes:["https"]}))),(0,e.jsx)(a,{title:"Edit h1",onChange:(e,t)=>{m(0,e,t)},config:null!==(s=l.config.h1)&&void 0!==s?s:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL}}),(0,e.jsx)(a,{title:"Edit h2",onChange:(e,t)=>{m(1,e,t)},config:null!==(r=l.config.h2)&&void 0!==r?r:{content:"",color:"#000000",fontSize:"16px",bold:!1,italic:!1,underline:!1,strike:!1,fontFamily:i.FontFamilyValue.ARIAL}}),(0,e.jsx)(o.SettingSection,{title:"Placeholder"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:l.config.placeholder,onChange:e=>{p("placeholder",e.target.value)}}))),(0,e.jsx)(o.SettingSection,{title:"Height"},(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(i.TextInput,{value:l.config.height,onChange:e=>{p("height",e.target.value)}}))),l.config.options&&l.config.options.map(((t,n)=>(0,e.jsx)(o.SettingSection,{title:"Option #"+n,key:n},(0,e.jsx)(c,{key:n,option:t,onUpdateOption:(e,t)=>{f(n,e,t)},onRemoveOption:()=>{x(n)}})))),(0,e.jsx)(i.Button,{onClick:d},"Add Option")))}function p(e){r.p=e}})(),u})())}}}));