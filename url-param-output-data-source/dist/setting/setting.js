System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-core/react"],(function(e,t){var i={},a={},n={},o={};return{setters:[function(e){i.DataSourceTypes=e.DataSourceTypes,i.EsriFieldType=e.EsriFieldType,i.JimuFieldType=e.JimuFieldType,i.jsx=e.jsx},function(e){a.Option=e.Option,a.Select=e.Select,a.TextArea=e.TextArea,a.TextInput=e.TextInput},function(e){n.SettingSection=e.SettingSection},function(e){o.useCallback=e.useCallback}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=i},972:e=>{"use strict";e.exports=o},321:e=>{"use strict";e.exports=a},298:e=>{"use strict";e.exports=n}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{__set_webpack_public_path__:()=>o,default:()=>n});var e=r(244),t=r(321),i=r(298),a=r(972);const n=n=>{const o=(0,a.useCallback)((()=>{if(void 0===n.config.dataSourceName||void 0===n.config.dataType)return;const t=[{id:`${n.config.dataSourceName}-${n.id}-output`,type:e.DataSourceTypes.FeatureLayer,label:`${n.config.dataSourceName}-output-data-source`,geometryType:"esriGeometryPoint",isDataInDataSourceInstance:!0,schema:(i=n.config.dataType,{label:"number",idField:"number",fields:{value:{jimuName:"value",name:"value",alias:"value",type:"number"===i?e.JimuFieldType.Number:e.JimuFieldType.String,esriType:"number"===i?e.EsriFieldType.Double:e.EsriFieldType.String}}}),dataViews:{out1:{id:"out1",label:"out1"}},isHidden:!0,isOutputFromWidget:!0}];var i;n.onSettingChange({id:n.id},t)}),[n]),r=(0,a.useCallback)((e=>{try{const t=JSON.parse(e);n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{mapping:t})})}catch(e){console.error(e)}}),[n]),u=(0,a.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{dataSourceName:e})})}),[n]),s=(0,a.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{urlParamName:e})})}),[n]),c=(0,a.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{defaultValue:e})})}),[n]),l=(0,a.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{dataType:e})})}),[n]);return(0,e.jsx)("div",{className:"widget-setting-demo"},(0,e.jsx)(i.SettingSection,{title:"Mapping"},(0,e.jsx)(t.TextArea,{width:"100%",height:1e3,value:JSON.stringify(n.config.mapping,null,2),onChange:e=>{r(e.target.value)}})),(0,e.jsx)(i.SettingSection,{title:"Data source name"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.dataSourceName,onChange:e=>{u(e.target.value)}})),(0,e.jsx)(i.SettingSection,{title:"Url parameter name"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.urlParamName,onChange:e=>{s(e.target.value)}})),(0,e.jsx)(i.SettingSection,{title:"Default Value"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.defaultValue,onChange:e=>{c(e.target.value)}})),(0,e.jsx)(i.SettingSection,{title:"Data type"},(0,e.jsx)(t.Select,{value:n.config.dataType,onChange:e=>{l(e.target.value)}},(0,e.jsx)(t.Option,{value:"string"},"String"),(0,e.jsx)(t.Option,{value:"number"},"Number"))),(0,e.jsx)(i.SettingSection,{title:"Data source"},(0,e.jsx)("button",{onClick:o},"Set Data Source")))};function o(e){r.p=e}})(),u})())}}}));