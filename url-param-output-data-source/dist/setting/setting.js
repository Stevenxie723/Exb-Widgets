System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-core/react"],(function(e,t){var a={},i={},n={},o={};return{setters:[function(e){a.DataSourceTypes=e.DataSourceTypes,a.EsriFieldType=e.EsriFieldType,a.JimuFieldType=e.JimuFieldType,a.jsx=e.jsx},function(e){i.Option=e.Option,i.Select=e.Select,i.TextArea=e.TextArea,i.TextInput=e.TextInput},function(e){n.SettingSection=e.SettingSection},function(e){o.useCallback=e.useCallback}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=a},972:e=>{"use strict";e.exports=o},321:e=>{"use strict";e.exports=i},298:e=>{"use strict";e.exports=n}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{__set_webpack_public_path__:()=>o,default:()=>n});var e=r(244),t=r(321),a=r(298),i=r(972);const n=n=>{const o=(0,i.useCallback)((()=>{if(void 0===n.config.dataSourceName||void 0===n.config.dataType)return;const t=[{id:`${n.config.dataSourceName}-${n.id}-output`,type:e.DataSourceTypes.FeatureLayer,label:`${n.config.dataSourceName}-output-data-source`,geometryType:"esriGeometryPoint",isDataInDataSourceInstance:!0,schema:(a=n.config.dataType,{label:"number",idField:"number",fields:{value:{jimuName:"value",name:"value",alias:"value",type:"number"===a?e.JimuFieldType.Number:e.JimuFieldType.String,esriType:"number"===a?e.EsriFieldType.Double:e.EsriFieldType.String}}})}];var a;n.onSettingChange({id:n.id},t)}),[n]),r=(0,i.useCallback)((e=>{try{const t=JSON.parse(e);n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{mapping:t})})}catch(e){console.error(e)}}),[n]),u=(0,i.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{dataSourceName:e})})}),[n]),s=(0,i.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{urlParamName:e})})}),[n]),c=(0,i.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{defaultValue:e})})}),[n]),l=(0,i.useCallback)((e=>{n.onSettingChange({id:n.id,config:Object.assign(Object.assign({},n.config),{dataType:e})})}),[n]);return(0,e.jsx)("div",{className:"widget-setting-demo"},(0,e.jsx)(a.SettingSection,{title:"Mapping"},(0,e.jsx)(t.TextArea,{width:"100%",height:1e3,value:JSON.stringify(n.config.mapping,null,2),onChange:e=>{r(e.target.value)}})),(0,e.jsx)(a.SettingSection,{title:"Data source name"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.dataSourceName,onChange:e=>{u(e.target.value)}})),(0,e.jsx)(a.SettingSection,{title:"Url parameter name"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.urlParamName,onChange:e=>{s(e.target.value)}})),(0,e.jsx)(a.SettingSection,{title:"Default Value"},(0,e.jsx)(t.TextInput,{width:"100%",height:1e3,value:n.config.defaultValue,onChange:e=>{c(e.target.value)}})),(0,e.jsx)(a.SettingSection,{title:"Data type"},(0,e.jsx)(t.Select,{value:n.config.dataType,onChange:e=>{l(e.target.value)}},(0,e.jsx)(t.Option,{value:"string"},"String"),(0,e.jsx)(t.Option,{value:"number"},"Number"))),(0,e.jsx)(a.SettingSection,{title:"Data source"},(0,e.jsx)("button",{onClick:o},"Set Data Source")))};function o(e){r.p=e}})(),u})())}}}));