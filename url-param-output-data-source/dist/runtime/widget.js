System.register(["jimu-core","jimu-core/react"],(function(t,e){var a={},u={};return{setters:[function(t){a.DataSourceManager=t.DataSourceManager,a.DataSourceStatus=t.DataSourceStatus,a.jsx=t.jsx},function(t){u.useCallback=t.useCallback,u.useEffect=t.useEffect}],execute:function(){t((()=>{var t={244:t=>{"use strict";t.exports=a},972:t=>{"use strict";t.exports=u}},e={};function o(a){var u=e[a];if(void 0!==u)return u.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,o),r.exports}o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.p="";var r={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(r),o.d(r,{__set_webpack_public_path__:()=>u,default:()=>a});var t=o(244),e=o(972);function a(a){var u;const o=(0,e.useCallback)((()=>{var e;const u=t.DataSourceManager.getInstance().getDataSource(null===(e=a.outputDataSources)||void 0===e?void 0:e[0]);if(!u||void 0===a.config.urlParamName)return;u.setStatus(t.DataSourceStatus.NotReady),u.setCountStatus(t.DataSourceStatus.NotReady);const o=new URLSearchParams(window.location.search).get(a.config.urlParamName),r=a.config.mapping.find((t=>t.key===o)),s=void 0!==r?r.value:a.config.defaultValue,c=u.buildRecord({attributes:{value:s}});u.setRecords([c]),u.setStatus(t.DataSourceStatus.Loaded),u.setCountStatus(t.DataSourceStatus.Loaded),u.selectRecords({records:[c],widgetId:a.widgetId})}),[a.outputDataSources,a.config.urlParamName,a.config.mapping,a.config.defaultValue,a.widgetId]);return(0,e.useEffect)((()=>{var e;(null===(e=a.outputDataSources)||void 0===e?void 0:e[0])&&t.DataSourceManager.getInstance().createDataSource(a.outputDataSources[0]).finally((()=>{o()}))}),[a.outputDataSources,o]),(0,t.jsx)("div",{className:"widget-demo jimu-widget m-2"},!(null===(u=a.outputDataSources)||void 0===u?void 0:u[0])&&(0,t.jsx)("h1",null,"Please set the output data source in setting"))}function u(t){o.p=t}})(),r})())}}}));